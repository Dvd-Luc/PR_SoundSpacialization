"use strict";(self["webpackChunkpr_spacialization"]=self["webpackChunkpr_spacialization"]||[]).push([[110],{607:(t,o,e)=>{e.d(o,{Z:()=>p});e(71);var i=e(3673),n=e(2323);const a={id:"app"},l=(0,i.Uk)(" Let us locate you for better results... "),r={key:0},u={key:1},s=(0,i._)("i",null,"Getting your location...",-1),c=[s],d={key:2};function g(t,o,e,s,g,h){return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("p",null,[l,(0,i._)("button",{onClick:o[0]||(o[0]=(...t)=>h.locateMe&&h.locateMe(...t))},"Get location")]),t.errorStr?((0,i.wg)(),(0,i.iD)("div",r," Sorry, but the following error occurred: "+(0,n.zw)(t.errorStr),1)):(0,i.kq)("",!0),t.gettingLocation?((0,i.wg)(),(0,i.iD)("div",u,c)):(0,i.kq)("",!0),t.location?((0,i.wg)(),(0,i.iD)("div",d," Your location data is "+(0,n.zw)(t.location.coords.latitude)+", "+(0,n.zw)(t.location.coords.longitude),1)):(0,i.kq)("",!0)])}e(6701);const h={name:"Localisation",data:function(){return{location:null,orientation:null,gettingLocation:!1,errorStr:null}},mounted:()=>{console.log("huhuhuhu")},computed:{dispOrientation(){return this.orientation}},methods:{async getLocation(){return new Promise(((t,o)=>{"geolocation"in navigator||o(new Error("Geolocation is not available.")),navigator.geolocation.getCurrentPosition((o=>{t(o)}),(t=>{o(t)}))}))},async getOrientation(){if(!window.DeviceOrientationEvent)throw console.log("Orientation not available"),new Error("Orientation not available on this device");window.addEventListener("deviceorientation",(t=>{console.log("z : "+t.alpha+"\n x : "+t.beta+"\n y : "+t.gamma+"\n abs"+t.absolute),this.orientation=Math.random()}))},async locateMe(){this.gettingLocation=!0;try{this.gettingLocation=!1,this.location=await this.getLocation()}catch(t){this.gettingLocation=!1,this.errorStr=t.message}},async orientateMe(){try{this.orientation=await this.getOrientation(),console.log(this.orientation)}catch(t){this.errorStr=t.message}}}};var m=e(4260);const w=(0,m.Z)(h,[["render",g]]),p=w},4110:(t,o,e)=>{e.r(o),e.d(o,{default:()=>p});var i=e(3673),n=e(2323);const a=(0,i._)("span",null,"Test",-1);function l(t,o,e,l,r,u){const s=(0,i.up)("q-input"),c=(0,i.up)("q-btn"),d=(0,i.up)("Localisation"),g=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s,{standout:"",modelValue:r.target.latitude,"onUpdate:modelValue":o[0]||(o[0]=t=>r.target.latitude=t),label:"Source latitude"},null,8,["modelValue"]),(0,i.Wm)(s,{standout:"",modelValue:r.target.longitude,"onUpdate:modelValue":o[1]||(o[1]=t=>r.target.longitude=t),label:"Source longitude"},null,8,["modelValue"]),(0,i.Wm)(c,{onClick:o[2]||(o[2]=t=>u.init()),color:"white","text-color":"black"},{default:(0,i.w5)((()=>[a])),_:1}),(0,i._)("h4",null," Objectif Latitude : "+(0,n.zw)(r.target.latitude)+" Longitude "+(0,n.zw)(r.target.longitude),1),(0,i._)("h4",null," Point GPS num√©ro "+(0,n.zw)(r.iteration.index)+" au temps "+(0,n.zw)(r.iteration.time)+" : Latitude : "+(0,n.zw)(r.iteration.latitude)+" Longitude : "+(0,n.zw)(r.iteration.longitude),1),(0,i.Wm)(d)])),_:1})}var r=e(607);const u={name:"Test_Geoloc",data(){return{iteration:{index:0,time:null,latitude:null,longitude:null},id:null,target:{latitude:null,longitude:null},options:{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}}},components:{Localisation:r.Z},methods:{init(){this.id=navigator.geolocation.watchPosition(this.success,this.error,this.options)},success(t){var o=t.coords;this.iteration.index+=1,this.iteration.time=t.timestamp,this.iteration.latitude=o.latitude,this.iteration.longitude=o.longitude,this.target.latitude===o.latitude&&this.target.longitude===o.longitude&&(console.log("Bravo, vous avez atteint la cible"),navigator.geolocation.clearWatch(this.id))},error(t){console.warn("ERROR("+t.code+"): "+t.message)}}};var s=e(4260),c=e(4379),d=e(8786),g=e(7435),h=e(7518),m=e.n(h);const w=(0,s.Z)(u,[["render",l]]),p=w;m()(u,"components",{QPage:c.Z,QInput:d.Z,QBtn:g.Z})}}]);